<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Article Optimizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1 {
            font-size: 2.25rem;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 2rem;
        }
        h2 {
            font-size: 1.75rem;
            font-weight: 600;
            color: #4f46e5;
            margin-bottom: 1.5rem;
            margin-top: 2rem;
        }
        h3 {
            font-size: 1.25rem;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 1rem;
            margin-top: 1.5rem;
        }
        p {
            font-size: 1rem;
            color: #374151;
            line-height: 1.75;
            margin-bottom: 1rem;
        }
        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
            list-style-position: inside;
        }
        li {
            font-size: 1rem;
            color: #374151;
            line-height: 1.75;
        }
        a {
            color: #0ea5e9;
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        a:hover {
            color: #0d9488;
        }
        strong {
            font-weight: 600;
            color: #1e293b;
        }
        em {
            font-style: italic;
            color: #4b5563;
        }
        pre {
            background-color: #f7fafc;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            margin-bottom: 1rem;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.875rem;
            line-height: 1.5rem;
        }
        code {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.875rem;
            color: #242424;
        }
        .highlight {
            background-color: #fef08a;
            color: #1e293b;
            padding: 0.2em;
            border-radius: 0.375rem;
        }
        .input-area {
            margin-bottom: 1rem;
        }
        .input-area label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #1e293b;
        }
        .input-area textarea {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.375rem;
            border: 1px solid #d1d5db;
            font-size: 1rem;
            color: #374151;
            outline: none;
            transition: border-color 0.2s ease;
            resize: vertical;
            min-height: 12rem;
        }
        .input-area textarea:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }
        .button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 600;
            color: white;
            background-color: #3b82f6;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border: none;
            font-size: 1rem;
        }
        .button:hover {
            background-color: #2563eb;
        }
        .output-area {
            background-color: #edf2f7;
            border: 1px solid #d1d5db;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 1rem;
            color: #374151;
            line-height: 1.75;
            white-space: pre-wrap;
        }
        .output-area h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }
        .warning-box {
            background-color: #fef08a;
            border: 1px solid #fde047;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            color: #1e293b;
            font-size: 1rem;
        }
        .warning-box strong {
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50 py-10 px-4 sm:px-6 lg:px-8">
    <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8">
        <h1 class="text-3xl font-bold text-blue-700 text-center mb-6">SEO Article Optimizer</h1>
        <p class="text-gray-700 mb-6">
            Enter your article below, and we'll provide an optimized version with suggestions for improved SEO.
        </p>

        <div class="input-area">
            <label for="article-input">Your Article:</label>
            <textarea id="article-input" placeholder="Paste your article here..."></textarea>
        </div>
        <div class="input-area">
            <label for="target-keywords">Target Keywords (comma-separated):</label>
            <input type="text" id="target-keywords" placeholder="e.g., SEO, optimization, content marketing">
        </div>
        <button id="optimize-article-btn" class="button">Optimize Article</button>

        <div id="optimized-article-output" class="output-area hidden">
            <h4>Optimized Article</h4>
            <p id="optimized-article-text"></p>
        </div>
        <div id="optimization-suggestions" class="output-area hidden">
            <h4>Optimization Suggestions</h4>
            <ul id="suggestions-list" class="list-disc list-inside">
            </ul>
        </div>

        <div id="optimization-error-message" class="warning-box hidden">
            <strong>Error:</strong> Please enter an article and target keywords.
        </div>
    </div>

    <script>
        const optimizeArticleButton = document.getElementById('optimize-article-btn');
        const articleInput = document.getElementById('article-input');
        const targetKeywordsInput = document.getElementById('target-keywords');
        const optimizedArticleOutput = document.getElementById('optimized-article-output');
        const optimizedArticleText = document.getElementById('optimized-article-text');
        const optimizationSuggestions = document.getElementById('optimization-suggestions');
        const suggestionsList = document.getElementById('suggestions-list');
        const optimizationErrorMessage = document.getElementById('optimization-error-message');

        function analyzeAndOptimizeArticle(article, keywords) {
            const analysis = {
                wordCount: 0,
                keywordDensity: {},
                headings: [],
                metaDescription: '',
                title: '',
            };
            let optimizedArticle = article;
            const suggestions = [];

            // 1. Word Count
            analysis.wordCount = article.split(/\s+/).length;
            if (analysis.wordCount < 300) {
                suggestions.push("Increase the article's word count to at least 300 words for better SEO.");
            }

            // 2. Keyword Density
            keywords.forEach(keyword => {
                const regex = new RegExp(keyword, 'gi');
                const keywordCount = (article.match(regex) || []).length;
                analysis.keywordDensity[keyword] = keywordCount / analysis.wordCount * 100;

                if (analysis.keywordDensity[keyword] < 1) {
                    suggestions.push(`Incorporate the keyword "${keyword}" more. Aim for 1-3% density.`);
                    optimizedArticle = optimizedArticle.replace(
                        new RegExp(`\\b(?!(${keywords.join('|')}))(\\w+)\\b`, 'i'),
                        `<span class="highlight">${keyword}</span>`
                    );
                } else if (analysis.keywordDensity[keyword] > 3) {
                    suggestions.push(`Reduce the density of the keyword "${keyword}". Avoid keyword stuffing.`);
                }
            });

            // 3. Headings
            const headingRegex = /<h[1-6]>(.*?)<\/h[1-6]>/gi;
            let match;
            while ((match = headingRegex.exec(article)) !== null) {
                analysis.headings.push(match[1].trim());
            }
            if (analysis.headings.length === 0) {
                suggestions.push("Add headings (H1, H2, H3, etc.) to structure your article.");
                optimizedArticle = `<h1>${keywords[0]}</h1>\n${optimizedArticle}`;
            }

            // 4. Meta Description
            const metaDescriptionRegex = /<meta name="description" content="(.*?)"/i;
            const metaDescriptionMatch = article.match(metaDescriptionRegex);
            if (metaDescriptionMatch) {
                analysis.metaDescription = metaDescriptionMatch[1];
            } else {
                const firstParagraph = article.match(/<p>(.*?)<\/p>/i);
                if (firstParagraph) {
                    const suggestedMetaDescription = firstParagraph[1].substring(0, 150);
                    suggestions.push(`Add a meta description: "${suggestedMetaDescription}...".`);
                    optimizedArticle = optimizedArticle.replace(
                        /<head>/i,
                        `<head>\n\t<meta name="description" content="${suggestedMetaDescription}">`
                    );
                } else {
                    suggestions.push("Add a meta description to improve search engine visibility.");
                }
            }
            if (analysis.metaDescription.length < 120 || analysis.metaDescription.length > 160) {
                 suggestions.push("Ensure your meta description is between 120-160 characters.");
            }

            // 5. Title
            const titleRegex = /<title>(.*?)<\/title>/i;
            const titleMatch = article.match(titleRegex);
            if (titleMatch) {
                analysis.title = titleMatch[1];
            } else {
                const suggestedTitle = keywords[0];
                suggestions.push(`Add a title: "${suggestedTitle}".`);
                optimizedArticle = optimizedArticle.replace(
                    /<head>/i,
                    `<head>\n\t<title>${suggestedTitle}</title>`
                );
            }
            if (analysis.title.length < 30 || analysis.title.length > 65) {
                suggestions.push("Ensure your title is between 30-65 characters.");
            }

            return { optimizedArticle, suggestions };
        }

        optimizeArticleButton.addEventListener('click', () => {
            const article = articleInput.value.trim();
            const keywords = targetKeywordsInput.value.split(',').map(k => k.trim()).filter(k => k);

            if (!article || keywords.length === 0) {
                optimizationErrorMessage.classList.remove('hidden');
                optimizedArticleOutput.classList.add('hidden');
                optimizationSuggestions.classList.add('hidden');
                return;
            } else {
                optimizationErrorMessage.classList.add('hidden');
                optimizedArticleOutput.classList.remove('hidden');
                optimizationSuggestions.classList.remove('hidden');
            }

            const { optimizedArticle, suggestions } = analyzeAndOptimizeArticle(article, keywords);
            optimizedArticleText.textContent = optimizedArticle;
            suggestionsList.innerHTML = suggestions.map(suggestion => `<li>${suggestion}</li>`).join('');
        });
    </script>
</body>
</html>
